<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üêç –£—Ä–æ–±–æ—Ä–æ—Å | Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="main-menu" class="screen">
            <div class="menu-header">
                <div class="ouroboros-icon">üêâ</div>
                <h1>–£–†–û–ë–û–†–û–°</h1>
                <p class="subtitle">–í–µ—á–Ω—ã–π –∑–º–µ–π</p>
            </div>

            <!-- –í—ã–±–æ—Ä —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
            <div class="difficulty-selector">
                <span class="difficulty-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å:</span>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn" data-difficulty="immortal" title="–°–∫–≤–æ–∑—å —Å—Ç–µ–Ω—ã –∏ —Ö–≤–æ—Å—Ç">
                        <span class="diff-icon">üåø</span>
                        <span class="diff-text">–ë–µ—Å—Å–º–µ—Ä—Ç–∏–µ</span>
                    </button>
                    <button class="difficulty-btn active" data-difficulty="normal" title="–°–∫–≤–æ–∑—å —Å—Ç–µ–Ω—ã, —Å–º–µ—Ä—Ç—å –æ—Ç —Ö–≤–æ—Å—Ç–∞">
                        <span class="diff-icon">‚öîÔ∏è</span>
                        <span class="diff-text">–û–±—ã—á–Ω—ã–π</span>
                    </button>
                    <button class="difficulty-btn" data-difficulty="hardcore" title="–°–º–µ—Ä—Ç—å –æ—Ç —Å—Ç–µ–Ω –∏ —Ö–≤–æ—Å—Ç–∞">
                        <span class="diff-icon">üíÄ</span>
                        <span class="diff-text">–•–∞—Ä–¥–∫–æ—Ä</span>
                    </button>
                </div>
            </div>

            <div class="menu-buttons">
                <button class="menu-btn" id="btn-survival">
                    <span class="btn-icon">‚ôæÔ∏è</span>
                    <span class="btn-text">–í—ã–∂–∏–≤–∞–Ω–∏–µ</span>
                    <span class="btn-desc">–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∏–≥—Ä–∞</span>
                </button>
                <button class="menu-btn" id="btn-levels">
                    <span class="btn-icon">üèõÔ∏è</span>
                    <span class="btn-text">–£—Ä–æ–≤–Ω–∏</span>
                    <span class="btn-desc">25 –∏—Å–ø—ã—Ç–∞–Ω–∏–π</span>
                </button>
                <button class="menu-btn secondary" id="btn-leaderboard">
                    <span class="btn-icon">üèÜ</span>
                    <span class="btn-text">–†–µ–∫–æ—Ä–¥—ã</span>
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è -->
        <div id="level-select" class="screen hidden">
            <div class="screen-header">
                <button class="back-btn" id="btn-back-levels">‚Üê</button>
                <h2>–í—ã–±–µ—Ä–∏ —É—Ä–æ–≤–µ–Ω—å</h2>
            </div>
            <div class="goal-selector">
                <span class="goal-label">–¶–µ–ª—å:</span>
                <div class="goal-buttons">
                    <button class="goal-btn" data-goal="5">5</button>
                    <button class="goal-btn active" data-goal="10">10</button>
                    <button class="goal-btn" data-goal="15">15</button>
                    <button class="goal-btn" data-goal="20">20</button>
                </div>
            </div>
            <div id="levels-grid" class="levels-grid">
                <!-- –£—Ä–æ–≤–Ω–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ JS -->
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∫–æ—Ä–¥–æ–≤ -->
        <div id="leaderboard-screen" class="screen hidden">
            <div class="screen-header">
                <button class="back-btn" id="btn-back-leaderboard">‚Üê</button>
                <h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
            </div>
            <div class="leaderboard-tabs">
                <button class="tab-btn active" data-tab="survival">–í—ã–∂–∏–≤–∞–Ω–∏–µ</button>
                <button class="tab-btn" data-tab="levels">–£—Ä–æ–≤–Ω–∏</button>
            </div>
            <div id="leaderboard-list" class="leaderboard-list">
                <!-- –†–µ–∫–æ—Ä–¥—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ JS -->
            </div>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div id="game-screen" class="screen hidden">
            <div id="header">
                <button class="back-btn" id="btn-back-game">‚Üê</button>
                <div id="game-info">
                    <div id="score-container">
                        <span id="score-label">–°—á—ë—Ç:</span>
                        <span id="score">0</span>
                    </div>
                    <div id="level-info" class="hidden">
                        <span>–£—Ä–æ–≤–µ–Ω—å <span id="current-level">1</span></span>
                        <span class="level-progress">
                            <span id="level-score">0</span>/<span id="level-goal">10</span>
                        </span>
                    </div>
                </div>
            </div>

            <div id="game-container">
                <canvas id="game-canvas"></canvas>

                <!-- –ü–∞—É–∑–∞ -->
                <div id="pause-overlay" class="overlay hidden">
                    <h2>‚è∏Ô∏è –ü–∞—É–∑–∞</h2>
                    <button class="game-btn" id="btn-resume">‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                    <button class="game-btn secondary" id="btn-quit">üö™ –í—ã–π—Ç–∏</button>
                </div>

                <!-- –ü–æ–±–µ–¥–∞ —É—Ä–æ–≤–Ω—è -->
                <div id="level-complete" class="overlay hidden">
                    <h2>‚ú® –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
                    <p>–û—á–∫–∏: <span id="level-complete-score">0</span></p>
                    <button class="game-btn" id="btn-next-level">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
                </div>

                <!-- –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã -->
                <div id="game-over" class="overlay hidden">
                    <h2>üíÄ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞</h2>
                    <p>–°—á—ë—Ç: <span id="final-score">0</span></p>
                    <p id="new-record" class="hidden">üéâ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!</p>
                    <button class="game-btn" id="btn-retry">üîÑ –ï—â—ë —Ä–∞–∑</button>
                    <button class="game-btn secondary" id="btn-menu">üè† –ú–µ–Ω—é</button>
                </div>

                <!-- –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã -->
                <div id="game-complete" class="overlay hidden">
                    <h2>üèÜ –ü–æ–±–µ–¥–∞!</h2>
                    <p>–í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!</p>
                    <p>–û–±—â–∏–π —Å—á—ë—Ç: <span id="total-score">0</span></p>
                    <button class="game-btn" id="btn-complete-menu">üè† –í –º–µ–Ω—é</button>
                </div>
            </div>

            <div id="controls">
                <button class="control-btn" id="btn-up">‚Üë</button>
                <div class="control-row">
                    <button class="control-btn" id="btn-left">‚Üê</button>
                    <button class="control-btn" id="btn-down">‚Üì</button>
                    <button class="control-btn" id="btn-right">‚Üí</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ -->
    <script src="js/constants.js"></script>
    <script src="js/render.js"></script>
    <script src="js/controls.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
